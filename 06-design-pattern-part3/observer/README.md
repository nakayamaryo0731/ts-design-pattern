# Observer

### Observerとは
- 観察対象のオブジェクトの状態変化が発生した際に、複数の観察者に対して通知を行うパターン

### クラス図
![クラス図](./%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3.png)

- Observer
  - 観測者となる抽象クラス or インターフェース
  - 通知を受け取るためのAPIを定義
- ConcreteObserver
  - Observerを検証する子クラス
  - 観察対象の通知から現在の状態を取得して、状態に応じた処理を行う

- Subject
  - 観察対象となる抽象クラス or インターフェース
  - フィールドにObserverを保持
  - 観察者の追加/削除/通知を行う共通メソッド
  - 具体的な処理をするための抽象メソッドを定義
- ConcreteSubject
  - Subjectを継承する子クラス
  - 具体的な処理をするためのメソッドを実装

### オブジェクト指向的要素
- 継承、ポリモーフィズムを利用したパターン
  - SubjectはObserverの共通APIを利用して通知を行うことで、具体的な観察者クラスの追加・削除・切り替え等が可能になる。

### メリデメ
- メリット
  - 実行時に観察者の変更が可能
  - 観測者と観測対象のつながりを弱められる。
  - 新たな観測対象の追加・削除・修正が容易
- デメリット
  - 通知の順番に依存しない実装にしなければ予期せぬバグが発生する可能性がある

### 使い所
- 状態変化に応じた処理を行う場合
  - ニュースサイト、SNS
  - Angularに採用されているRxJs
- オブジェクトを一時的に監視したい場合