# Command

### Commandとは
- 命令をメソッドではなく、独立したクラスとして表現するパターン
  - 命令を送る側と命令を受け取る側を分離する
  - 命令クラスのインスタンスを切り替えることで様々な処理を実現することができる
  - TVのリモコン

### クラス図
![クラス図](./%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3.png)

- Command
  - 命令を表すインターフェース
  - 命令を出すための共通APIを定義
- ConcreteCommand
  - Commandを実装する子クラス
  - 具体的な命令を実装
  - 内部に命令の受取手となるオブジェクトを保持

- Invoker
  - 命令の送り手となるクラス
  - 内部に命令オブジェクトを保持
  - 命令を支持する責務を担う
- Receiver
  - 命令の受取手となるクラス
  - 命令をどのように実行するかを知っている
  - 任意のクラスがReceiverになることができる

### オブジェクト指向的要素
- ポリモーフィズムを利用したパターン
  - 具体的な命令はCommandの子クラスであるConcreteCommandで実装される
  - Invokerは内部にCommand型のオブジェクトを保持し、CommandのAPIを使用することで、ConcreteCommandの追加・削除・切り替え等が可能になる

### メリデメ
- メリット
  - 既存のコードを修正することなく、命令の追加・拡張が可能
  - 命令を再利用できる
  - 処理のキューイングが可能
- デメリット
  - 命令がシンプルで再利用が不要の場合、コードが複雑になる

### 使い所
- 複数の命令をひとまとめにして実行したい場合
  - 命令を再利用して組み合わせることで、一つの命令を生成可能
- 命令をキューに入れて遅延実行したい場合
  - 命令と実際の実行を別のタイミングで実施可能
- UndoやRedoを実現したい場合