# Prototype

### Prototypeとは
- 原型となるインスタンスをコピーして新しいインスタンスを生成するパターン
  - 親クラスでインスタンスをコピーするためのメソッドを定義し、小クラスで自分自身のコピーを返すように実装する。

### クラス図
![クラス図](./%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3.png)


### オブジェクト指向的要素
- 継承、ポリモーフィズムを利用したパターン
  - PrototypeとConcretePrototypeクラスの間に継承関係
  - Clientクラスでは親クラスであるPrototypeクラスで提供されているAPIのみを使ってプログラミングを行う
  - ClientクラスとConcretePrototypeに依存関係がないので、ConcretePrototypeの差し替えや追加・修正が可能

### メリデメ
- メリット
  - オブジェクトの生成処理を隠蔽できる
  - 構築済みのプロトタイプのクローンの作成を使うことにより、初期化コードの重複を削減
  - 利用者と具体的なクラスの結合度を弱められる
- デメリット
  - ディープコピーとシャローコピーを意識していないと想定外のバグを生む可能性

### 使い所
- クラスからのインスタンス生成が難しい場合
  - ユーザー操作によって生成されたグラフィックオブジェクトなど
  - ex: パワポの図形のコピー
- インスタンス化のコストがコピーよりも高い場合