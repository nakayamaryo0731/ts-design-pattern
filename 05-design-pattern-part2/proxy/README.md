# Proxy

### Proxyとは
- 代理となるオブジェクトを通じて、間接的に目的のオブジェクトにアクセスさせるためのパターン
  - 目的のオブジェクトへのアクセスを制御し、目的のオブジェクトへのリクエストが届く前後に別の処理を行うことができるようになる。

### クラス図
![クラス図](./%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3.png)

- Subject
  - 抽象クラスまたはインターフェース
  - 目的のオブジェクトで提供する機能のAPIを定義
- RealSubject
  - Subjectを継承する小クラス
  - 目的の機能を提供する本人となるクラス

- Proxy
  - Subjectを継承する小クラス
  - 目的のオブジェクトの代理人となるクラス
  - 内部に目的の本人オブジェクトを保持しており、必要に応じて本人の機能を呼び出す

### オブジェクト指向的要素
- ポリモーフィズムと移譲を利用したパターン
  - RealSubjectとProxyは同じSubjectインターフェースを実装
  - クライアントはインターフェースのAPIを介してアクセスすることで、その違いを意識する必要がない
  - ProxyはフィールドのRealSubjectに処理を移譲する

### メリデメ
- メリット
  - オブジェクトへのアクセスが間接的になる
  - 目的のオブジェクトがまだ存在しない場合でも開発を進められる
  - 容易にプロキシの追加が可能
- デメリット
  - 新しいクラスを追加する必要があるため、コードが複雑になる可能性

### 使い所
- リクエストの前後に処理を追加したい場合
  - Logging
  - Cache
- 目的のオブジェクトに対してアクセス制御を行いたい場合

