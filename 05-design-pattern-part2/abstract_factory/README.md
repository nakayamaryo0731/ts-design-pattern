# Abstract Factory

### Abstract Factoryとは
- 関連したオブジェクト(部品)のセットを、具体的なクラスを指定することなく生成するためのインターフェース(API)を提供するパターン
  - 部品の具体的な実装には注目せず、抽象のAPIに注目し、そのAPIだけを使って部品のセットを組み立てていく

### クラス図
![クラス図](./%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3.png)

- AbstractFactory
  - インターフェースもしくは抽象クラス
  - 抽象的な部品であるAbstractProductを生成するためのAPIを定義
- AbstractProduct
  - インターフェースもしくは抽象クラス
  - 部品ごとのAPIを定義

- ConcreteFactory
  - AbstractFactoryを継承(実装)する子クラス
  - 具体的な部品であるConcreteProductを返すように実装を行う。
- ConcreteProduct
  - AbstractProductを継承(実装)する子クラス
  - ConcreteFactoryから返される具体的な部品


### オブジェクト指向的要素
- ポリモーフィズムを利用したパターン
  - 工場、部品ともに抽象と具体のセットになっていて、利用者は抽象のAPIのみを使用する。
  - どのConcreteFactoryを使うかを切り替えるだけで、生成される部品群を切り替えることができる

### メリデメ
- メリット
  - 具体的なクラスをクライアントから隠蔽できる
  - 利用する部品群の整合性を保つことができる
- デメリット
  - 必要なクラス数が多く、コードが複雑になる可能性がある

### 使い所
- 関連する部品群を決められた種別ことに整合性を保って切り替えたい場合
  - 例：OSのGUI (統一感のある部品を作成)


### FactoryMethodとの違い
- 生成するインスタンスの数
  - Factory：一つのインスタンスを作成
  - Abstract：複数の部品のセットを生成
- 抽象化の対象
  - Factory：メソッド
  - Abstract：クラス