# Singleton

### Singletonとは
クラスが一つのインスタンスのみを持つことを保証し、このインスタンスへアクセスするためのグローバルな方法を提供するパターン

※Singletonはアンチパターンと言われることが多い。

### クラス図
![クラス図](./%E3%82%AF%E3%83%A9%E3%82%B9%E5%9B%B3.png)

### Singletonのオブジェクト指向要素
- 「カプセル化」を利用したパターン
  - 自分自身のインスタンスを内部に保持して管理
  - 他のクラスからのインスタンスへのアクセス方法も提供
    - この方法でしか外部からはアクセスできない

### メリデメ
- メリット
  - クラスが一つのインスタンスしか持たないことを証明できる
  - メモリ効率が良い
- デメリット
  - 依存関係がわかりにくい
  - Singletonが状態を保つ場合、密結合になる
  - 単体テストの実行が困難
  - マルチスレッドでの扱いが難しい

### 使い所
- プログラム内のクラスで全てのクライアントが使用できるインスタンスを必ず一つだけに制限したい場合
  - ロギング
  - キャッシュ管理
  - コンフィグ
  - データベース接続ドライバ


